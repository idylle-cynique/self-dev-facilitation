# Git コミットメッセージの規約

## 基本原則

コミットメッセージは以下のフォーマットを基本とします。

1. **1行目:** 変更内容の要約（タイトル、概要）
2. **2行目:** 空行
3. **3行目以降:** 変更した理由（内容、詳細）

言語は日本語でも英語でも構いませんが、リポジトリ内で統一することが推奨されます。

## 1行目: 要約

コミット種別と変更内容の概要を記述します。

**フォーマット:**
`[コミット種別] 要約`

### コミット種別

以下のような種別を使用します。

* `fix`: バグ修正
* `hotfix`: クリティカルなバグ修正（緊急性の高いもの）
* `add`: 新規機能やファイルの追加
* `update`: 機能修正（バグではない変更）
* `change`: 仕様変更
* `clean`: コード整理（リファクタリング、不要なコードの削除など）
* `disable`: 機能の無効化（コメントアウトなど）
* `remove`: ファイルや機能の削除
* `upgrade`: ライブラリやフレームワークなどのバージョンアップ
* `revert`: 以前のコミットの変更を取り消し

（記事にはライト版の種別も記載がありましたが、ここでは通常版を記載しています。）

### 要約の書き方

* 変更内容をシンプルかつ分かりやすく記述します。
* 例: `[fix] 削除フラグが更新されない不具合の修正`

## 3行目以降: 詳細

変更した理由を具体的に記述します。

* なぜこの変更が必要だったのか、どのような問題が解決されるのかなどを説明します。
* GitHub などのチケット管理システムと連携している場合は、関連するチケット番号を記載します。
* 例:

    ```txt
    refs #110

    更新SQLの対象カラムに削除フラグが含まれていなかったため追加しました。
    この修正により、削除フラグが正しくDBに反映されるようになります。
    ```

## コミットの粒度

* コミットはできる限り細かい粒度で行うことが推奨されます。
* 複数の異なる種類の変更（例: バグ修正と新機能追加）を1つのコミットに含めるのは避けましょう。
* 1つのコミットは、1つの関心事に対応するようにします。

## まとめ方の派閥（参考）

記事では、チケット駆動開発の度合いによって、1行目の書き方にバリエーションがあることも紹介されています。

* **スリーライン派（コミットベース派）:**

    ```txt
    [fix] 削除フラグが更新されない不具合の修正

    refs #110 更新SQLの対象カラムに削除フラグが含まれていなかったため追加しました。
    ```

## 参考リンク

* [Gitのコミットメッセージの書き方（2023年ver.）](https://zenn.dev/itosho/articles/git-commit-message-2023)
